{% load render_table from django_tables2 %}
{% load static %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>UGF Database: рейтинг-лист</title>
        <link rel="shortcut icon" href="{% static 'favicon.png' %}"/>
        <link rel="stylesheet" href="{% static 'UGD/style.css' %}" />
        <link rel="stylesheet" href="{% static 'UGD/tables.css' %}" />
        <link rel="stylesheet" href="{% static 'UGD/filters.css' %}" />
    </head>
    <header>
        <img src="{%  static  'UGD/images/ufgo_logo.jpg' %}">
    </header>
    <body>
        <div class="title"><h1>Рейтинг-лист УФГО</h1></div>
        <div class="filter">
            <form id="filter_submit" class="filter">
                {% block content %}
                    <div class="filter">
                        <table class="filter">
                            <tr><th><label for="full_name_search">Прізвище та ім'я</label></th><td><input type="text" id="full_name_search" onkeyup="myFunction()" placeholder="Введіть прізвище або ім'я..."></td></tr>
                            <tr><th><label for="city_search">Місто</label></th><td><input type="text" id="city_search" onkeyup="myFunction()" placeholder="Введіть назву міста..."></td></tr>
                        </table>
                    </div>
                {% endblock %}
            </form>
        </div>
        <div>
            {% render_table table %}
        </div>
    </body>
    <script>
    function myFunction() {
      // Declare variables
      var input1, input2, filter1, filter2, table, tr, td1, td2, i;
      input1 = document.getElementById('full_name_search');
      input2 = document.getElementById('city_search');
      filter1 = input1.value.toUpperCase();
      filter2 = input2.value.toUpperCase();
      table = document.getElementById('rating_list_table');
      tr = table.getElementsByTagName("tr");

      // Loop through all table rows, and hide those who don't match the search query
      for (i = 0; i < tr.length; i++) {
        td1 = tr[i].getElementsByTagName("td")[0];
        td2 = tr[i].getElementsByTagName("td")[1];
        if (td1) {
          if (td1.innerHTML.toUpperCase().indexOf(filter1) > -1) {
            if (td2.innerHTML.toUpperCase().indexOf(filter2) > -1) {
              tr[i].style.display = "";
            } else {
                tr[i].style.display = "none";
            }
          }
          else {
              tr[i].style.display = "none";
          }
        }
      }
    }
    </script>
</html>